# Sattvic Vegan and Halal
- It is said, “One cannot think well, love well, sleep well, if one has not dined well.” Food, has much more importance in our lives than we know. The benefits of a balanced and nutritious meal go many layers down to affect our body, mental health, and mood. And Sattvic foods are best-known to do this.
- Vegan diet，The Physicians Committee promotes plant-based diets for good health and disease prevention. The Physicians Committee combines the clout and expertise of more than 17,000 physicians with the dedicated actions of nearly one million members and supporters worldwide.
- Is All Vegan and Vegetarian Food Halal? The short answer is not always. Despite what you may think, vegan and vegetarian food is not necessarily halal. Therefore, muslin vaganner sometimes find it difficult to find suitable food.
- Here in our little online store, we offer sattvic, vegan and halal, to Bring out the best of physical, mental, emotional, and spiritual health. One concept for all.
Our goal is: with a bit education, we hope we can bring more and more people to try out sattvic food, to make us a better person, and ultimately to make this world a better place.
Link to deployed site can be found [Here](https://sattvic-food-dad56f85566e.herokuapp.com/)
![alt text](<ReadMe Img/readMe0_pp5.jpg>)

# Table of Contents
<!-- TOC -->
- [E-commerce type](#e-commerce-type)
- [Marketing](#marketing)
- [Highlight](#highlight)
- [User stories](#user-stories)
- [Existing Features](#existing-features)
    - [Homepage](#homepage)
    - [Register/Sign up](#registersign-up)
    - [Confirm email Address](#confirm-email-address)
    - [Sign in](#sign-in)
    - [Logout](#logout)
    - [All products](#all-products)
    - [Sort by min price](#sort-by-min-price)
    - [Sort by category](#sort-by-category)
    - [Product detail and add to bag](#product-detail-and-add-to-bag)
    - [The shopping bag](#the-shopping-bag)
    - [Checkout](#checkout)
    - [Checkout success](#checkout-success)
    - [Order confirmation email after payment](#order-confirmation-email-after-payment)
    - [super user product management](#super-user-product-management)
        - [manage product on all product page](#manage-product-on-all-product-page)
        - [manage product on product detail page](#manage-product-on-product-detail-page)
        - [manage product from my account-product management page](#manage-product-from-my-account-product-management-page)
    - [Footer](#footer)
    - [My Profile](#my-profile)
- [Future features](#future-features)
- [Web marketing](#web-marketing)
    - [Email marketing](#email-marketing)
    - [Search engine optimization](#search-engine-optimization)
    - [Social media marketing](#social-media-marketing)
- [Technologies](#technologies)
- [Testing](#testing)
    - [Manual Testing](#manual-testing)
- [User story testing](#user-story-testing)
    - [Admin](#admin)
    - [User](#user)
- [Functionality testing](#functionality-testing)
- [Compatibility testing](#compatibility-testing)
- [Lighthouse test](#lighthouse-test)
- [Javascript validation](#javascript-validation)
- [Python](#python)
- [Bugs](#bugs)
- [Deployment](#deployment)
- [Creating a fork](#creating-a-fork)
- [Credits](#credits)
- [Images are from Unsplash, Adobestock, Pexels](#images-are-from-unsplash-adobestock-pexels)
- [Code Institute](#code-institute)
- [ChatGPT](#chatgpt)

<!-- /TOC -->

## 1	E-commerce type
Sattvic Food is a B2C type of business. Due to pressure of life amongst us from work/business to family not talking of pandemics, many of us are now opting for online shopping. Sattvic Food aims to offer flexible online shopping to its customers.
## 2	Marketing
Though there are a lot of marketing techniques for businesses, Sattiv Food decided to first use the cheaper way, that is facebook to drive out content and engage with customers. Visit our facebook page [Here](https://www.facebook.com/profile.php?id=100092554362855).
## 3	Highlight
To enhance the shopping experience for regular customers who know precisely what they want to buy, our online store features size and price buttons directly on each product card on the 'All Products' page. Customers can quickly add items to their shopping bag by clicking on these buttons. To purchase multiple units of the same size, simply click the button additional times. A small, round indicator at the top-right corner of the size and price buttons displays the total quantity selected for each item, allowing customers to easily track their choices. After browsing through the 'All Products' page, customers can use the up arrow at the bottom-right of the window to swiftly navigate back to the shopping bag either for a quick checkout or for checking the total cost.
![alt text](<ReadMe Img/highlight.PNG>) 

## 4	User stories
4.1	As Admin
1.	As an admin I can manage users' accounts so that I can make any required changes to them if needed
2.	As an admin I can manage products so that I can add , update or delete products when necessary
3.	As an admin I can view created orders so that I can full fill the orders or amend if needed
4.	As an Admin I can delete any of comments so that I can remove them if I nolonger feel they are still necessary or needed
5.	As an Admin I can view messages sent via contact form so that I can act upon them
6.	As an admin I can manage the blog content so that I can make amendments if needed
4.2	As a site user
1.	As a site user I can create or edit my account so that I can update my details accordingly
2.	As a site user I can login in my account so that I can view my order history
3.	As a site user I can search for products so that I can find specific products
4.	As a site user I can sort products on criteria such as price and category so that I can I have a method of ordering the products products as I prefer
5.	As a site user I can browse through products so that I can decide what I may be interested in buying
6.	As a site user I can look at product details so that I can decide if I want to purchase it
7.	As a site user I can easily add products I want to purchase to a basket so that I can decide whether to purchase or not
8.	As a site user I can view the contents of my shopping basket so that I can be able to make any adjustments
9.	As a site user I can update my bag by adding more or remove products so that I can decide on the number of products I intend to buy
10.	As a site user I can view my order summary so that I can verify it before confirming
11.	As a site user I can checkout securely so that I can I maintain the level of trust on the site
12.	As a site user I can sign up to newsletter so that I can keep updated on the latest news
## 5	Existing Features
### 5.1	Homepage
The homepage features a streamlined header and navigation area, offering a clear view of the site's navigational elements. The logo is positioned on the left, while the 'My Account' and 'Shopping Bag' icons are conveniently located to the right. At the center, there is a search bar followed by the navigation menu, facilitating easy access to various site sections.

Below the navigation bar, captivating images of sattvic food draw the visitor's attention and encourage immediate action. Accompanying these images are a compelling slogan and a 'Shop Now' button.
![alt text](<ReadMe Img/homepage.PNG>) 


### 5.2	Register/Sign up
On the right side of the home page, for the first time user they will need to register their account to enjoy most of the site benefits such as saving their orders. 
![alt text](<ReadMe Img/register.PNG>) 
### 5.3	Confirm email Address
![alt text](<ReadMe Img/recieve email after register.PNG>) 
### 5.4	Sign in
Registered users can sign in when they visit the site againThe Remember me option is also available making the shopping easier for returning users. Is users need to reset their password, a forgot password is also available.
![alt text](<ReadMe Img/log in.PNG>) 

### 5.5	Logout
Users are able to protect their account by logging out of the site.
![alt text](<ReadMe Img/log out.PNG>) 

### 5.6	All products
The first navigation link from the logo is all products. This is where you can display all products available. On this a user has a liberty to sort the products either by price or by category.
![alt text](<ReadMe Img/highlight.PNG>) 

### 5.7	Sort by min price
![alt text](<ReadMe Img/sort by min price.PNG>) 
### 5.8	Sort by category 
![alt text](<ReadMe Img/sort by category.PNG>)
### 5.9	Product detail and add to bag
Each product on site has a detailed information in form of a name, size, price, image, description and its category. The user is displayed with a quantity input box to select the quantity they need to add to the shopping bag either increasing or decreasing. They have an option to go back to products by clicking the keep shopping button. Each time a user add a product to the bag they get a notification that alert them of that action. 
![alt text](<ReadMe Img/product detail.PNG>)
### 5.10	The shopping bag
Consists of the price, quantity of each item and sub total. User has an option to update their bag and or remove some items from bag. They can easily go back to products by clicking keep shopping or go to checkout. 
![alt text](<ReadMe Img/shopping bag.PNG>)
### 5.11	Checkout
On the left side of the checkout is where user puts their information, and on the right side is a summary of their order that is the total, the delivery.
![alt text](<ReadMe Img/check out.PNG>) 
User has an option to save their information to a profile. 
![alt text](<ReadMe Img/save delivery info to profile.PNG>) 
### 5.12	Checkout success
After completing an order, users receive an order confirmation with their details including order number.
![alt text](<ReadMe Img/checkout success.PNG>) 
### 5.13	Order confirmation email after payment
![alt text](<ReadMe Img/reviev email after payment.PNG>) 
### 5.14	super user product management
#### 5.14.1 manage product on all product page
![alt text](<ReadMe Img/superUser_all product.PNG>) 
#### 5.14.2 manage product on product detail page
![alt text](<ReadMe Img/superUser_productDetail.PNG>) 
#### 5.14.3 manage product from my account-product management page
![alt text](<ReadMe Img/my profile_product management.PNG>) 
### 5.15	Footer
The contains the newsletter sign up, Facebook link, and external links for user explore the benefits of the sattvic food.
![alt text](<ReadMe Img/footer.PNG>) 
### 5.16	My Profile
The my profile page displays a user's saved contact infomation and their order history.
![alt text](<ReadMe Img/my profile.PNG>) 
## 6	Future features
6.1	Product rating  
6.2	Blog  
6.3	Cooking recipes
## 7	Web marketing
### 7.1	Email marketing
The free version of mailchimp was chosen with the current status of the business. Each user that signs up is added to the weekly newsletter and they might turn out to be future customers henceforth low cost to drive sales.
![alt text](<ReadMe Img/footer.PNG>)
### 7.2	Search engine optimization
SEO keywords
![alt text](<ReadMe Img/meta tags.PNG>) 
### 7.3	Social media marketing
A facebook page was created to build community from the target market. Facebook is free and it also takes little to no time to set up and also it has so many users whom a business can strive to maintain a certain relationship, create content and connect with a target audience.
![alt text](<ReadMe Img/facebook.PNG>) 
## 8	Technologies
•	HTML  
•	CSS  
•	Javascript  
•	Python  
•	Frameworks, programs and libraries used  
•	Django - Django is a high-level Python web framework that encourages rapid development and clean, pragmatic design.  
•	Bootstrap4 - A css framework  
•	Gitpod - Gitpod was used as an IDE  
•	Github - I used Github to store all the data of my project after pushing it  
•	Heroku - is a cloud platform service I used to deploy and host the project  
•	ElephantSQL - used as a database for the project  
•	Font Awesome - Was used to add icons for my social media links.  
•	PEP8ci - I used it to validate python code  
•	Balsamiq - was used to draw wireframes  
•	dbdiagram - was used to draw the database schema
•	Stripe - was used for checkout functionality and facilitate online payments
•	AWS - for object storage through a web service interface.  
•	Unsplash - images used for the project  
•	Pexels - images used for the project  
•	Adobestock - images used for the project

## 9	Testing
### 9.1	Manual Testing
| Feature  | 	Test | 	Expected Result	| Actual Result |
|-------|-----|-------------| -------------|
Sattiv food  | 	Selecting logo on homepage	|directs user back to homepage | 	Pass
Search | 	Using the search box|	Entering a search returns expected result	 | Pass
Search no results|	No search|	Entering a no results search returns error message and shows all products	Pass
Navigation Links|	Selecting navigation links|	directs user to relevant pages|	Pass
All products|	Selecting all products|	directs user to all products	|Pass
Back to top|	Back to top arrow|	Select the arrow box on the products page brings the user back to the top of the page|	Pass
Sort By|	Selecting the filter Sort|	successfully sort by price, name and category options	|Pass
Shop Now button|	Selecting Shop Now button	|directs user to all products page|	Pass
Sign up for our newsletter|	selecting Sign up for our newsletter|	directs user Sign up for our newsletter page|	Pass
facebook icon|	Selecting facebook icon	|directs user to facebook page|	Pass
My account|	Selecting my account as admin|	displays dropdown menu unique to admin apart from profile and logout|	Pass
Add product|	Adding a new product	|successfully add new product to products page	|Pass
Add Product	|no image is selected|	default image is used	|Pass
As Admin edit product|	editing product	|successfully edited the product	|Pass
As Admin Delete product|	Deleting product|	successfully remove product|	Pass
Register|	Register for an account|	selecting Register in my account directs user signup page	|Pass
Register|	Registering as a new user	|Registering as a new user form works	|Pass
Login	|Login to an account	|selecting Login in my account directs user to Login page	|Pass
Login|	Login to an account	|login-in as a new user form works	|Pass
Login as admin|	Login to as admin |gives access to blog/product management	login-in as a new user form works|	Pass
Logout	|message shown	|Logging out message shown	|Pass

## 9.2	User story testing
### 9.2.1 Admin
•	As an admin I can manage users' accounts so that I can make any required changes to them if needed  
•	Admin can manage user accounts from admin panels  
•	As an admin I can manage products so that I can add , update or delete products when necessary  
•	Admin can add, delete and update products on the site  
•	As an admin I can view created orders so that I can full fill the orders or amend if needed  
•	Admin can view orders in admin panel  
### 9.2.2 User
•	As a site user I can create or edit my account so that I can update my details accordingly  
•	A user can create an account using register and update on my profile  
•	As a site user I can login in my account so that I can view my order history  
•	Logged in user can view order history if they made a purchase before  
•	As a site user I can search for products so that I can find specific products  
•	I made sure users can search for what they want using search bar  
•	As a site user I can sort products on criteria such as price and category so that I can I have a method of ordering the products  
•	I made products to be filtered by price or category for users to choose how they want to view products as I prefer  
•	As a site user I can browse through products so that I can decide what I may be interested in buying  
•	I made the site such that its easy to browse through all products so they see what to order  
•	As a site user I can look at product details so that I can decide if I want to purchase it  
•	Each product has a detailed description so users understands more of it  
•	As a site user I can easily add products I want to purchase to a basket so that I can decide whether to purchase or not  
•	Users can easily add products to bag  
•	As a site user I can view the contents of my shopping basket so that I can be able to make any adjustments  
•	User can view bag contents by clicking the bag itself  
•	As a site user I can update my bag by adding more or remove products so that I can decide on the number of products I intend to buy  
•	User can update the bag to a quantity they want or remove everything entirely  
•	As a site user I can view my order summary so that I can verify it before confirming  
•	From secure checkout, users can verify their order summary before buying  
•	As a site user I can checkout securely so that I can I maintain the level of trust on the site  
•	I made sure users have secure checkout when completeing a purchase  
•	As a site user I can sign up to newsletter so that I can keep updated on the latest news  
•	By going to sign up newsletter on the footer, users can easily sign up to receive latest news.  

## 9.3	Functionality testing
Throughout developing this site, I have been using Chrome, and chrome dev tools to help with debugging issues. Testing responsiveness was done using chrome emulated devices.

## 9.4	Compatibility testing
Chrome emulated devices, and hardware devices iphone 13, samsung A51 and samsung tablet E were used to test compatibility
![alt text](<ReadMe Img/readMe0_pp5.jpg>)
## 9.5	Lighthouse test
![alt text](<ReadMe Img/lighthouse test.PNG>) 
## 9.6	Javascript validation
I used JSlint to validate javascript in some apps  
bag app - semi colon warning  
base.html - zero warnings  
newsletter - 8 warnings but the code is directly from mailchimp  
checkout - semi colon warnings  
products - semi colon warnings  
profiles - no warnings  
## 9.7	Python
CI Python linter was used to test python code

## 10	Bugs
Bug |	Fix |
|-------|-----|
Input quantity field can be submitted empty that causes an error|	Write Javascript function and views to set proper quantity after wrong input
Bag input quantity field can be submitted with invalid input by keypress Enter that causes an error|	Enclose quantity input for adjust bag view in while loop and inside try/except block to provide functionality for proper input, write JS function for sunbmit by Enter press
Add and edit products form give an error after submit|	Delete args in appropriate views to redirect to the right path
Stripe webhook doesn't respond to the request|	Set proper webhook path and check webhook handler
Stripe webhook doesn't respond to the request |	Set proper intent metadata and billing details in webhook handler|  
Stripe webhook doesn't respond to the request|	Set proper intent metadata and billing details in webhook handler
404 page doesn't shown in deploy version|	Set correct Debug settings

## 11	Deployment
11.1	Before Deployment
To ensure the application is deployed correctly on Heroku it is mandatory to update the requirements.txt. This is a list of requirements that the application needs in order to run.
•	To create the list of requirements we use the command pip3 freeze > requirements.txt. This will ensure the file with the requirements is updated.
•	Then commit and push the changes to GitHub.
! Before pushing code to GitHub ensure all credentials are in an env.py file, which is included in the .gitignore file. This tells Git not to track this file which will prevent it from being added to Github and the credentials being exposed.
11.2	Stripe setup
•	Log in to Stripe
•	Navigate to developers section (link located at the top right)
•	Go to API keys tab and copy the values of PUBLIC_KEY and SECRET_KEY and add them to your env.py file
•	Navigate to the Webhooks page from the tab in the menu at the top and click on add endpoint.
•	This section requires a link to the deployed application. The link should look like this https://your_website.herokuapp.com/checkout/wh/
•	Choose the events the webhook should recieve and add endpoint.
•	When the application is deployed, run a test transaction to ensure the webhooks are working. The events chan be checked in the webhooks page.
11.3	AWS setup
11.3.1 Log in to AWS
11.3.1.1	Create a new S3 bucket:
•	Choose the closest AWS region.
•	Add unique bucket name.
•	Under Object Ownership select ACLs enabled to allow access to the objects in the bucket.
•	Under Block Public Access settings unselect block all public access as the application will need access to the objects in the bucket.
•	Click on create bucket.
11.3.1.2	Edit bucket settings.
•	Bucket properties
o	Open the bucket page.
o	Go to properties tab and scroll down to website hosting and click on edit.
o	Enable static website hosting
o	Under the Hosting type section ensure Host a static website is selected.
o	Add Index.html to index document field and error.html to error document field and click save.
•	Bucket permissions
o	Navigate and Click on the "Permissions" tab.
o	Scroll down to the "CORS configuration" section and click edit.
o	Enter the following snippet into the text box and click on save changes.
•	[
•	{
•	    "AllowedHeaders": [
•	        "Authorization"
•	    ],
•	    "AllowedMethods": [
•	        "GET"
•	    ],
•	    "AllowedOrigins": [
•	        "*"
•	    ],
•	    "ExposeHeaders": []
•	}
•	]
o	Scroll to bucket policy section and click edit. Take note of the bucket arn (Example: arn:aws:s3:::test-bucket)
o	Click on policy generator and set the following settings:
a.	Select Type of Policy - S3 Bucket Policy
b.	Effect Allow
c.	Principal *
d.	AWS Service Amazon S3
e.	Actions: GetObject
f.	Amazon arn: your arn from the previous page
o	Click on add statement and then generate policy.Copy the policy
o	Paste the policy into the bucket policy editor.
o	Add "/*" to the end of the resource key to allow access to all resources in this bucket.
o	Navigate and Click Save changes.
o	For the Access control list (ACL) section, click edit and enable List for Everyone (public access) and accept the warning box. If the edit button is disabled, you need to change the Object Ownership section above to ACLs enabled (refer to Create Bucket section above).
11.3.2 Identify and Access Management (IAM)
•	Create User group
o	In the search bar, search for IAM.
o	On the IAM page select user groups in the menu on the left.
o	Click on create user group, add a name and click create group. The users and permission policies will be added later.
•	Create Permissions policy for the user group
o	Go to Policies in the left-hand menu and click create policy
o	Click on actions and import policy.
o	Search for "AmazonS3FullAccess", select this policy, and click "Import".
o	Click "JSON" under "Policy Document" to see the imported policy
o	Copy the bucket ARN from the bucket policy page and paste it into the "Resource" section of the JSON snippet. Be sure to remove the default value of the resource key ("") and replace it with the bucket ARN. Copy the bucket ARN a second time into the "Resource" section of the JSON snippet. This time, add "/" to the end of the ARN to allow access to all resources in this bucket.
•	    {
•	    "Version": "2012-10-17",
•	    "Statement": [
•	        {
•	            "Effect": "Allow",
•	            "Action": [
•	                "s3:*",
•	                "s3-object-lambda:*"
•	            ],
•	            "Resource": [
•	                "arn:aws:s3:::your-project",
•	                "arn:aws:s3:::your-project/*"
•	            ]
•	        }
•	    ]
•	}
•	
o	On the next page add polcity name and description and click create policy.
•	Attach Policy to User Group
o	Click on User Groups in the left-hand menu.
o	Click on the user group name created during the above step and select the permissions tab.
o	Click Attach Policy.
o	Search for the policy created during the above step, select it and click attach policy.
•	Create User
o	Click on Users in the left-hand menu and click on add user.
o	Enter a User name .
o	Select Programmatic access and AWS Management Console access and click next.
o	Click on add user to group, select the user group created earlier and click create user.
o	Take note of the Access key ID and Secret access key as these will be needed to connect to the S3 bucket.
o	To save a copy of the credentials click Download .csv
11.4	Deployment on Heroku
•	To deploy the project on Heroku, first create an account.
•	Once logged in, create a new app by clicking on the create app button
•	Pick a unique name for the app, select a region, and click Create App.
•	On the next page select the settings tab and scroll down to Config Vars. If there are any files that should be hidden like credentials and API keys they should be added here. In this project, there are credentials that need to be protected. This project requires credentials added for:
•	  1. Django's secret key
•	  2. Database Credentials
•	  3. AWS access key 
•	  3. AWS secret key
•	  4. Email host password.
•	  5. Stripe public key
•	  6. stripe secret key
•	  7. Stripe wh secret
•	Scroll down to Buildpacks. The buildpacks will install further dependencies that are not included in the requirements.txt. For this project, the buildpack required is Python
•	From the tab above select the deploy section.
•	The deployment method for this project is GitHub. Once selected, confirm that we want to connect to GitHub, search for the repository name, and click connect to connect the Heroku app to our GitHub code.
•	Scroll further down to the deploy section where automatic deploys can be enabled, which means that the app will update every time code is pushed to GitHub. Click deploy and wait for the app to be built. Once this is done, a message should appear letting us know that the app was successfully deployed with a view button to see the app.
## 11.5	Creating a fork
1.	Navigate to the repository
2.	In the top-right corner of the page click on the fork button and select create a fork.
3.	You can change the name of the fork and add description
4.	Choose to copy only the main branch or all branches to the new fork.
5.	Click Create a Fork. A repository should appear in your GitHub
11.6	Cloning Repository
1.	Navigate to the repository
2.	Click on the Code button on top of the repository and copy the link.
3.	Open Git Bash and change the working directory to the location where you want the cloned directory.
4.	Type git clone and then paste the link.
5.	Press Enter to create your local clone.
# 12	Credits
## 12.1	Images are from Unsplash, Adobestock, Pexels
## 12.2	Code Institute 
•	Botique Ado walk through
•	Hello django 
•	Dataflair django tutorial
## 12.3	ChatGPT
